<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAHUA AI — Platform Overview</title>
  <style>
    /* ── Reset & base ── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; scroll-padding-top: 80px; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      color: #1e293b;
      background: #f8fafc;
      line-height: 1.65;
      font-size: 15px;
    }

    /* ── Sticky nav ── */
    nav {
      position: sticky; top: 0; z-index: 100;
      background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 100%);
      padding: 0 32px;
      display: flex; align-items: center; gap: 8px;
      box-shadow: 0 2px 12px rgba(0,0,0,.25);
      height: 60px;
      overflow-x: auto;
    }
    nav .brand {
      font-weight: 700; font-size: 17px; color: #fff;
      margin-right: 16px; white-space: nowrap;
      letter-spacing: .3px;
    }
    nav a {
      color: #cbd5e1; text-decoration: none; font-size: 13px; font-weight: 500;
      padding: 8px 14px; border-radius: 6px; white-space: nowrap;
      transition: all .2s;
    }
    nav a:hover, nav a:focus { color: #fff; background: rgba(255,255,255,.12); }
    nav .sep { width: 1px; height: 24px; background: rgba(255,255,255,.15); flex-shrink: 0; }

    /* ── Nav flow badges ── */
    nav a .nav-num {
      display: inline-flex; align-items: center; justify-content: center;
      width: 22px; height: 22px; border-radius: 5px;
      color: #fff; font-weight: 800; font-size: 12px;
      margin-right: 6px; flex-shrink: 0;
    }
    nav a.nav-flow { display: inline-flex; align-items: center; }
    nav a.nav-f1 { color: #a5b4fc; }
    nav a.nav-f1 .nav-num { background: #6366f1; }
    nav a.nav-f1:hover { color: #fff; background: rgba(99,102,241,.25); }
    nav a.nav-f2 { color: #6ee7b7; }
    nav a.nav-f2 .nav-num { background: #10b981; }
    nav a.nav-f2:hover { color: #fff; background: rgba(16,185,129,.25); }
    nav a.nav-f3 { color: #fcd34d; }
    nav a.nav-f3 .nav-num { background: #f59e0b; }
    nav a.nav-f3:hover { color: #fff; background: rgba(245,158,11,.25); }
    nav a.nav-f4 { color: #fca5a5; }
    nav a.nav-f4 .nav-num { background: #ef4444; }
    nav a.nav-f4:hover { color: #fff; background: rgba(239,68,68,.25); }
    nav a.nav-f5 { color: #c4b5fd; }
    nav a.nav-f5 .nav-num { background: #8b5cf6; }
    nav a.nav-f5:hover { color: #fff; background: rgba(139,92,246,.25); }

    /* ── Layout ── */
    .container { max-width: 1120px; margin: 0 auto; padding: 40px 24px 80px; }

    /* ── Hero ── */
    .hero {
      text-align: center; padding: 56px 24px 48px;
      background: linear-gradient(160deg, #eef2ff 0%, #f0fdf4 50%, #fefce8 100%);
      border-bottom: 1px solid #e2e8f0;
    }
    .hero h1 { font-size: 36px; font-weight: 800; color: #0f172a; margin-bottom: 12px; }
    .hero .subtitle { font-size: 17px; color: #475569; max-width: 700px; margin: 0 auto 24px; }
    .hero .meta { font-size: 13px; color: #94a3b8; }

    /* ── Section headings ── */
    .flow-section { margin-top: 56px; }
    .flow-header {
      display: flex; align-items: center; gap: 14px;
      margin-bottom: 28px; padding-bottom: 12px;
      border-bottom: 3px solid;
    }
    .flow-header .num {
      width: 40px; height: 40px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-weight: 800; font-size: 18px; flex-shrink: 0;
    }
    .flow-header h2 { font-size: 24px; font-weight: 700; }
    .flow-header .badge {
      font-size: 11px; font-weight: 600; padding: 3px 10px;
      border-radius: 20px; text-transform: uppercase; letter-spacing: .5px;
    }

    /* per-flow colors */
    .flow1 .flow-header { border-color: #6366f1; }
    .flow1 .num { background: #6366f1; }
    .flow1 .badge { background: #eef2ff; color: #4338ca; }

    .flow2 .flow-header { border-color: #10b981; }
    .flow2 .num { background: #10b981; }
    .flow2 .badge { background: #ecfdf5; color: #047857; }

    .flow3 .flow-header { border-color: #f59e0b; }
    .flow3 .num { background: #f59e0b; }
    .flow3 .badge { background: #fefce8; color: #b45309; }

    .flow4 .flow-header { border-color: #ef4444; }
    .flow4 .num { background: #ef4444; }
    .flow4 .badge { background: #fef2f2; color: #b91c1c; }

    .flow5 .flow-header { border-color: #8b5cf6; }
    .flow5 .num { background: #8b5cf6; }
    .flow5 .badge { background: #f5f3ff; color: #6d28d9; }

    .roles-section .flow-header { border-color: #0ea5e9; }
    .roles-section .num { background: #0ea5e9; }
    .roles-section .badge { background: #f0f9ff; color: #0369a1; }

    /* ── Cards ── */
    .card {
      background: #fff; border: 1px solid #e2e8f0; border-radius: 12px;
      padding: 28px; margin-bottom: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,.04);
      transition: box-shadow .2s;
    }
    .card:hover { box-shadow: 0 4px 16px rgba(0,0,0,.07); }
    .card h3 { font-size: 18px; font-weight: 700; margin-bottom: 8px; color: #0f172a; }
    .card h4 { font-size: 15px; font-weight: 600; margin: 18px 0 8px; color: #334155; }
    .card p, .card li { color: #475569; }
    .card ul { padding-left: 20px; margin: 6px 0; }
    .card li { margin-bottom: 5px; }
    .card .tag {
      display: inline-block; font-size: 11px; font-weight: 600;
      padding: 2px 8px; border-radius: 4px; margin-right: 6px;
      vertical-align: middle;
    }
    .tag-admin { background: #fef2f2; color: #b91c1c; }
    .tag-school { background: #fefce8; color: #a16207; }
    .tag-teacher { background: #eef2ff; color: #4338ca; }
    .tag-student { background: #ecfdf5; color: #047857; }
    .tag-all { background: #f1f5f9; color: #475569; }
    .tag-coming { background: #fff7ed; color: #c2410c; border: 1px dashed #fb923c; }
    .tag-ai { background: #eff6ff; color: #1d4ed8; }

    /* ── Pipeline (horizontal arrow flow) ── */
    .pipeline {
      display: flex; align-items: stretch; gap: 0;
      margin: 20px 0 28px; overflow-x: auto; padding-bottom: 4px;
    }
    .pipeline-step {
      flex: 1; min-width: 180px;
      background: #fff; border: 1px solid #e2e8f0; padding: 18px 16px;
      position: relative;
    }
    .pipeline-step:first-child { border-radius: 10px 0 0 10px; }
    .pipeline-step:last-child  { border-radius: 0 10px 10px 0; }
    .pipeline-step:not(:last-child)::after {
      content: ""; position: absolute; right: -14px; top: 50%; transform: translateY(-50%);
      width: 0; height: 0;
      border-top: 18px solid transparent; border-bottom: 18px solid transparent;
      border-left: 14px solid #e2e8f0; z-index: 2;
    }
    .pipeline-step:not(:last-child)::before {
      content: ""; position: absolute; right: -12px; top: 50%; transform: translateY(-50%);
      width: 0; height: 0;
      border-top: 16px solid transparent; border-bottom: 16px solid transparent;
      border-left: 12px solid #fff; z-index: 3;
    }
    .pipeline-step .step-num {
      display: inline-block; font-size: 11px; font-weight: 700;
      color: #6366f1; margin-bottom: 6px;
    }
    .pipeline-step h4 { font-size: 14px; font-weight: 700; color: #0f172a; margin-bottom: 6px; }
    .pipeline-step p  { font-size: 12px; color: #64748b; line-height: 1.5; }

    /* ── Grid helpers ── */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
    @media (max-width: 768px) {
      .grid-2, .grid-3 { grid-template-columns: 1fr; }
      .pipeline { flex-direction: column; }
      .pipeline-step { border-radius: 10px !important; }
      .pipeline-step::after, .pipeline-step::before { display: none; }
    }

    /* ── Tables ── */
    table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 14px; }
    th, td { padding: 10px 14px; text-align: left; border: 1px solid #e2e8f0; }
    th { background: #f8fafc; font-weight: 600; color: #334155; white-space: nowrap; }
    td { color: #475569; }
    tr:nth-child(even) td { background: #fafbfc; }
    .check { color: #10b981; font-weight: 700; text-align: center; }
    .cross { color: #cbd5e1; text-align: center; }

    /* ── Callout boxes ── */
    .callout {
      padding: 16px 20px; border-radius: 8px; margin: 16px 0;
      font-size: 14px; border-left: 4px solid;
    }
    .callout-info { background: #eff6ff; border-color: #3b82f6; color: #1e40af; }
    .callout-warn { background: #fffbeb; border-color: #f59e0b; color: #92400e; }
    .callout-tip  { background: #ecfdf5; border-color: #10b981; color: #065f46; }

    /* ── TOC at top ── */
    .toc {
      background: #fff; border: 1px solid #e2e8f0; border-radius: 12px;
      padding: 28px 32px; margin-bottom: 16px;
    }
    .toc h3 { font-size: 16px; font-weight: 700; margin-bottom: 14px; color: #0f172a; }
    .toc ol { padding-left: 22px; }
    .toc li { margin-bottom: 6px; }
    .toc a { color: #4338ca; text-decoration: none; font-weight: 500; }
    .toc a:hover { text-decoration: underline; }

    /* ── Footer ── */
    footer {
      text-align: center; padding: 32px 24px; color: #94a3b8; font-size: 13px;
      border-top: 1px solid #e2e8f0; margin-top: 64px;
    }
  </style>
</head>
<body>

<!-- ════════════════════════════════════════════════════════════════════
     NAVIGATION
     ════════════════════════════════════════════════════════════════════ -->
<nav>
  <span class="brand">DAHUA AI</span>
  <div class="sep"></div>
  <a href="#roles">Roles &amp; Permissions</a>
  <div class="sep"></div>
  <a href="#flow1" class="nav-flow nav-f1"><span class="nav-num">1</span>Authentication</a>
  <a href="#flow2" class="nav-flow nav-f2"><span class="nav-num">2</span>Content Creation</a>
  <a href="#flow3" class="nav-flow nav-f3"><span class="nav-num">3</span>Student Practice</a>
  <a href="#flow4" class="nav-flow nav-f4"><span class="nav-num">4</span>School Mgmt</a>
  <a href="#flow5" class="nav-flow nav-f5"><span class="nav-num">5</span>Platform Admin</a>
</nav>

<!-- ════════════════════════════════════════════════════════════════════
     HERO
     ════════════════════════════════════════════════════════════════════ -->
<div class="hero">
  <h1>Platform Overview</h1>
  <p class="subtitle">
    DAHUA AI is an AI-powered language access and learning support platform for K&ndash;12 multilingual learners.
    During subject classes (e.g., science, math, social studies), DAHUA AI captures instructional language and
    delivers real-time, level-appropriate scaffolds&mdash;such as key vocabulary support, simplified rephrasing,
    and quick comprehension checks&mdash;so students can follow along in the moment.
  </p>
  <p class="subtitle" style="margin-top:12px;">
    After class, the system turns the same content into targeted practice and assignments, and provides
    actionable insights for educators (ESL/ELD and subject teachers) to monitor progress and decide
    what support to give next.
  </p>
  <p class="meta">Onboarding Reference &middot; Last updated: February 2026</p>
</div>

<!-- ════════════════════════════════════════════════════════════════════
     MAIN CONTENT
     ════════════════════════════════════════════════════════════════════ -->
<div class="container">

  <!-- Table of Contents -->
  <div class="toc">
    <h3>Table of Contents</h3>
    <ol>
      <li><a href="#roles">Role &amp; Permission Matrix</a></li>
      <li><a href="#flow1">Flow 1 — Authentication &amp; Onboarding</a></li>
      <li><a href="#flow2">Flow 2 — Content Creation Pipeline</a></li>
      <li><a href="#flow3">Flow 3 — Student Practice</a></li>
      <li><a href="#flow4">Flow 4 — School Management</a></li>
      <li><a href="#flow5">Flow 5 — Platform Administration</a></li>
    </ol>
  </div>

  <div class="callout callout-tip">
    <strong>Core Loop:</strong>
    Instructional content is captured &rarr; AI generates level-appropriate scaffolds &amp; graded materials &rarr;
    teacher builds practice &rarr; assigns to students &rarr; student completes &amp; records audio &rarr;
    AI provides real-time feedback &rarr; educator reviews actionable insights.
  </div>

  <!-- ══════════════════════════════════════════════════════════════════
       ROLES & PERMISSIONS MATRIX  (placed first for quick orientation)
       ══════════════════════════════════════════════════════════════════ -->
  <section id="roles" class="flow-section roles-section">
    <div class="flow-header">
      <div class="num">R</div>
      <h2>Role &amp; Permission Matrix</h2>
      <span class="badge">Start Here</span>
    </div>

    <p style="margin-bottom:12px; color:#475569;">
      The platform has <strong>8 roles</strong> across two categories. Use this matrix to understand
      which features each role can access before diving into the individual flows below.
    </p>

    <div class="callout callout-info" style="margin-bottom:20px;">
      <strong>Key distinction:</strong> TEACHER is a standalone role for independent educators,
      completely separate from the school roles (SCHOOL_TEACHER, SCHOOL_ADMIN).
      TEACHER can only access <strong>Projects</strong> and <strong>Question Banks</strong> (content creation).
      They do <strong>not</strong> have access to Practice, Assignments, or Classroom features &mdash;
      those require a school-affiliated role (SCHOOL_TEACHER, SCHOOL_ADMIN) or ADMIN.
    </div>

    <div class="card" style="overflow-x: auto;">
      <h3>What Each Role Can Access</h3>
      <p style="font-size:13px; color:#64748b; margin-bottom:12px;">
        The table below mirrors the <strong>exact sidebar navigation</strong> of the platform.
        A &ldquo;&#10003;&rdquo; means that sidebar item is visible and usable for that role.
      </p>
      <table>
        <thead>
          <tr>
            <th>Sidebar Section</th>
            <th>Sidebar Item</th>
            <th>ADMIN</th>
            <th>SCHOOL_ADMIN</th>
            <th>SCHOOL_TEACHER</th>
            <th>TEACHER</th>
            <th>STUDENT</th>
            <th>SCHOOL_STUDENT</th>
            <th>PARENTS</th>
            <th>UNKNOWN</th>
          </tr>
        </thead>
        <tbody>
          <!-- overview (ADMIN only) -->
          <tr>
            <td rowspan="2"><strong>overview</strong></td>
            <td><strong>Users</strong></td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <tr>
            <td><strong>School</strong></td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <!-- dashboard (SCHOOL_ADMIN only) -->
          <tr>
            <td><strong>dashboard</strong></td>
            <td><strong>Dashboard</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <!-- classroom -->
          <tr>
            <td><strong>classroom</strong></td>
            <td><strong>Classroom</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <!-- Content -->
          <tr>
            <td rowspan="2"><strong>Content</strong></td>
            <td><strong>Projects</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <tr>
            <td><strong>Question Banks</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <!-- My Practice (Student) -->
          <tr>
            <td><strong>My Practice</strong></td>
            <td><strong>Assignment List</strong></td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <!-- Practice / Assignments -->
          <tr>
            <td rowspan="3"><strong>Practice /<br>Assignments</strong></td>
            <td><strong>Practice List</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <tr>
            <td><strong>Assignments</strong></td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
          <tr>
            <td><strong>Daily Boost</strong></td>
            <td class="check">&#10003;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
            <td class="cross">&mdash;</td>
          </tr>
        </tbody>
      </table>

      <div class="callout callout-info" style="margin-top:16px;">
        <strong>Not in sidebar but accessible:</strong>
        <ul style="margin:8px 0 0; padding-left:20px;">
          <li><strong>Payment and Billings</strong> &mdash; accessible via the account menu (top-right avatar).
            Visible to ADMIN and TEACHER only. Hidden from all school roles and STUDENT.
            Shows credit balance, plan expiration, and Stripe subscription options (Starter / Top-up / Basic).</li>
          <li><strong>Credits Button</strong> &mdash; shown in the header bar for all non-student roles.
            Displays current credit balance and links to the billing page.</li>
        </ul>
      </div>
    </div>

    <!-- Sidebar Item Description Table -->
    <div class="card">
      <h3>Sidebar Item Descriptions</h3>
      <p style="font-size:13px; color:#64748b; margin-bottom:12px;">
        Each sidebar item and what it does at a glance.
      </p>
      <table>
        <thead>
          <tr>
            <th>Sidebar Section</th>
            <th>Sidebar Item</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td rowspan="2"><strong>overview</strong></td>
            <td><strong>Users</strong></td>
            <td>Manage all platform users &mdash; create, edit, delete accounts, assign roles and permissions</td>
          </tr>
          <tr>
            <td><strong>School</strong></td>
            <td>Create and manage schools, CSV bulk upload, close school trials</td>
          </tr>
          <tr>
            <td><strong>dashboard</strong></td>
            <td><strong>Dashboard</strong></td>
            <td>School overview stats (total users, available seats, active students/teachers), invite code management, school user management</td>
          </tr>
          <tr>
            <td><strong>classroom</strong></td>
            <td><strong>Classroom</strong></td>
            <td>Create and edit classrooms, assign teachers, enroll or remove students</td>
          </tr>
          <tr>
            <td rowspan="2"><strong>Content</strong></td>
            <td><strong>Projects</strong></td>
            <td>Create graded articles through a 4-step AI wizard, clone existing projects, manage teaching points</td>
          </tr>
          <tr>
            <td><strong>Question Banks</strong></td>
            <td>AI-generate True/False, Multiple Choice, and Q&amp;A questions from a project</td>
          </tr>
          <tr>
            <td><strong>My Practice</strong></td>
            <td><strong>Assignment List</strong></td>
            <td>Student landing page &mdash; shows all assigned practices with expiry dates and completion status</td>
          </tr>
          <tr>
            <td rowspan="3"><strong>Practice /<br>Assignments</strong></td>
            <td><strong>Practice List</strong></td>
            <td>Create and manage practices (Q&amp;A, Mirroring, Vocabulary types)</td>
          </tr>
          <tr>
            <td><strong>Assignments</strong></td>
            <td>View all assignments, assign practices to classrooms or individual students with due dates</td>
          </tr>
          <tr>
            <td><strong>Daily Boost</strong></td>
            <td>Daily reinforcement exercises for students</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h3>All System Roles</h3>
      <table>
        <tr>
          <th>Category</th>
          <th>Role</th>
          <th>Who is this?</th>
          <th>What can they do?</th>
        </tr>
        <tr>
          <td rowspan="5">Platform</td>
          <td><strong>ADMIN</strong></td>
          <td>DAHUA AI internal team</td>
          <td>Full access to every feature on the platform</td>
        </tr>
        <tr>
          <td><strong>TEACHER</strong></td>
          <td>Independent educator (not affiliated with a school)</td>
          <td>Create Projects and Question Banks only (no Practice, Assignment, or Classroom access)</td>
        </tr>
        <tr>
          <td><strong>STUDENT</strong></td>
          <td>Individual learner (not affiliated with a school)</td>
          <td>View &amp; complete assigned practices</td>
        </tr>
        <tr>
          <td><strong>PARENTS</strong></td>
          <td>Parent/guardian</td>
          <td>Defined in the system but currently no interface built</td>
        </tr>
        <tr>
          <td><strong>UNKNOWN</strong></td>
          <td>Newly registered user</td>
          <td>Awaiting role assignment &mdash; sees nothing until an admin assigns a role</td>
        </tr>
        <tr>
          <td rowspan="3">School</td>
          <td><strong>SCHOOL_ADMIN</strong></td>
          <td>School administrator</td>
          <td>School dashboard + classrooms + content creation + assignments</td>
        </tr>
        <tr>
          <td><strong>SCHOOL_TEACHER</strong></td>
          <td>Teacher within a school</td>
          <td>Classrooms + content creation + assignments (no school dashboard)</td>
        </tr>
        <tr>
          <td><strong>SCHOOL_STUDENT</strong></td>
          <td>Student within a school</td>
          <td>View &amp; complete assigned practices ("My Assignments")</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ══════════════════════════════════════════════════════════════════
       FLOW 1 — AUTHENTICATION & ONBOARDING
       ══════════════════════════════════════════════════════════════════ -->
  <section id="flow1" class="flow-section flow1">
    <div class="flow-header">
      <div class="num">1</div>
      <h2>Authentication &amp; Onboarding</h2>
      <span class="badge">All Users</span>
    </div>

    <div class="grid-3">
      <div class="card">
        <h3>Register</h3>
        <ul style="margin-top:10px;">
          <li>First name, last name, email, password</li>
          <li><strong>Google OAuth</strong> sign-up also available</li>
          <li>New users are created with the UNKNOWN role</li>
          <li>If registering with a school <strong>invite code</strong>, the user is automatically assigned the corresponding school role</li>
        </ul>
      </div>

      <div class="card">
        <h3>Login</h3>
        <ul style="margin-top:10px;">
          <li>Email + password authentication</li>
          <li><strong>Google OAuth</strong> login supported</li>
          <li>On login, the system loads the user's role, permissions, school affiliation, plan expiration, and credit balance</li>
          <li>Automatic session refresh &mdash; users stay logged in</li>
        </ul>
      </div>

      <div class="card">
        <h3>Forgot Password</h3>
        <ul style="margin-top:10px;">
          <li>Enter email address</li>
          <li>System sends a password reset email</li>
        </ul>
      </div>
    </div>

    <div class="card">
      <h3>Post-Registration State</h3>
      <ul>
        <li>New users have the <strong>UNKNOWN</strong> role until an admin assigns a proper role</li>
        <li>Until a role is assigned, the user sees <strong>no sidebar items</strong> &mdash; they cannot access any features</li>
        <li>An <strong>onboarding dialog</strong> guides new users through initial setup</li>
        <li>The <strong>PARENTS</strong> role is defined in the system but currently has no dedicated interface</li>
      </ul>
    </div>
  </section>

  <!-- ══════════════════════════════════════════════════════════════════
       FLOW 2 — CONTENT CREATION PIPELINE
       ══════════════════════════════════════════════════════════════════ -->
  <section id="flow2" class="flow-section flow2">
    <div class="flow-header">
      <div class="num">2</div>
      <h2>Content Creation Pipeline</h2>
      <span class="badge">Admin &middot; School Admin &middot; School Teacher &middot; Teacher (partial)</span>
    </div>

    <p style="margin-bottom:20px; color:#475569;">
      This is the platform's core production chain. Content flows through a strictly linear pipeline:
    </p>

    <!-- Pipeline visualisation -->
    <div class="pipeline">
      <div class="pipeline-step">
        <span class="step-num">STEP 1</span>
        <h4>Project</h4>
        <p>Create or AI-generate a graded article through a 4-step wizard.</p>
      </div>
      <div class="pipeline-step">
        <span class="step-num">STEP 2</span>
        <h4>Question Bank</h4>
        <p>AI generates true/false, multiple choice, and Q&amp;A questions from the project.</p>
      </div>
      <div class="pipeline-step">
        <span class="step-num">STEP 3</span>
        <h4>Practice</h4>
        <p>Package content into a specific practice type (Mirroring, Q&amp;A, Vocabulary, Daily Boost).</p>
      </div>
      <div class="pipeline-step">
        <span class="step-num">STEP 4</span>
        <h4>Assignment</h4>
        <p>Assign the practice to students &mdash; individually or by classroom &mdash; with per-class due dates.</p>
      </div>
    </div>

    <!-- 2A — Projects -->
    <div class="card">
      <h3>2A. Project (Article Creation)</h3>
      <p><span class="tag tag-ai">AI-Powered</span></p>
      <p style="margin-top:10px;">
        Projects are the foundation of all content. Each project represents a graded article
        with associated teaching points. The creation wizard has <strong>4 steps</strong>:
      </p>

      <h4>Step 1 &mdash; Set Up</h4>
      <ul>
        <li>Select <strong>Level Type</strong> and <strong>Level</strong> (proficiency grading)</li>
        <li>Choose <strong>Target Language</strong> and <strong>Student Native Language</strong></li>
      </ul>

      <h4>Step 2 &mdash; AI Generate</h4>
      <p>Three sub-modes are available:</p>
      <ul>
        <li><strong>Create</strong> &mdash; Provide a topic; AI generates a complete graded article from scratch</li>
        <li><strong>Revise</strong> &mdash; Paste an existing article; AI rewrites it into graded learning material</li>
        <li><strong>Summary</strong> &mdash; Input content directly; AI identifies teaching points from the database</li>
      </ul>
      <div class="callout callout-info">
        AI generation consumes <strong>credits</strong>. Users on the free Starter plan have 30 credits.
        If credits are insufficient, the system blocks the operation and redirects to the billing page.
      </div>

      <h4>Step 3 &mdash; Edit</h4>
      <ul>
        <li>Review and manually edit the AI-generated article text</li>
        <li>Adjust paragraph segmentation for karaoke-style playback</li>
      </ul>

      <h4>Step 4 &mdash; Confirm Teaching Points</h4>
      <ul>
        <li><strong>Select Words</strong> mode &mdash; Click individual words in the article to mark as teaching vocabulary</li>
        <li><strong>Modify Segments</strong> mode &mdash; Adjust sentence boundaries for audio playback</li>
        <li><strong>Analyze</strong> &mdash; AI generates vocabulary cards (pinyin, part of speech, translation, example sentences, images)</li>
        <li><strong>Export</strong> &mdash; Generate shareable links for the finished project</li>
        <li>Unsaved-changes indicator bar prevents accidental data loss</li>
      </ul>

      <h4>Additional Features</h4>
      <ul>
        <li><strong>Clone Project</strong> &mdash; Duplicate an existing project as a starting point</li>
        <li><strong>Project Detail View</strong> &mdash; View associated question banks and practices from within a project</li>
      </ul>
    </div>

    <!-- 2B — Question Bank -->
    <div class="card">
      <h3>2B. Question Bank</h3>
      <p><span class="tag tag-ai">AI-Powered</span></p>
      <p style="margin-top:10px;">
        Generate assessment questions from a project. Users select a project, configure options, and
        AI produces questions automatically.
      </p>

      <h4>Question Types (3 tabs)</h4>
      <table>
        <tr>
          <th>Type</th>
          <th>AI Generation Options</th>
          <th>Manual Add</th>
        </tr>
        <tr>
          <td><strong>True / False</strong></td>
          <td>Pinyin, Usage, Meaning, Comprehension + set quantity</td>
          <td class="cross">&mdash;</td>
        </tr>
        <tr>
          <td><strong>Multiple Choice</strong> (default tab)</td>
          <td>Pinyin, Usage, Meaning, Comprehension + set quantity</td>
          <td class="check">&#10003;</td>
        </tr>
        <tr>
          <td><strong>Q &amp; A</strong></td>
          <td>Short Answer, Extension + set quantity</td>
          <td class="check">&#10003;</td>
        </tr>
      </table>

      <h4>Key Behaviors</h4>
      <ul>
        <li>Individual questions can be <strong>deleted</strong> with a confirmation dialog</li>
        <li><strong>Export</strong> button available when questions are ready</li>
        <li><strong>"Create QA Practice"</strong> shortcut button on the Q&amp;A tab for quick practice creation</li>
        <li>Question banks can be renamed and updated after creation</li>
      </ul>

      <div class="callout callout-warn">
        <strong>Subscription Gate:</strong> Users without a valid subscription plan are blocked from
        the question bank generator. Only users with an active subscription (or school-affiliated roles)
        can access this feature.
      </div>
    </div>

    <!-- 2C — Practice -->
    <div class="card">
      <h3>2C. Practice</h3>
      <p>
        <span class="tag tag-admin">Admin</span>
        <span class="tag tag-school">School Admin</span>
        <span class="tag tag-school">School Teacher</span>
      </p>
      <p style="margin-top:10px;">
        Practices package content into a specific exercise format. Users select a practice type from
        a dialog, then configure it.
      </p>

      <div class="callout callout-warn">
        <strong>Note:</strong> TEACHER (independent educator) does <em>not</em> have access to Practice creation.
        Only Admin, School Admin, and School Teacher can create practices.
      </div>

      <h4>Practice Types</h4>
      <table>
        <tr>
          <th>Type</th>
          <th>Description</th>
          <th>Content Source</th>
          <th>Availability</th>
        </tr>
        <tr>
          <td><strong>Q&amp;A</strong></td>
          <td>Question &amp; answer style comprehension practice. Selections from Question Bank, answer guidance, AI overall assessment feedback.</td>
          <td>Question Bank</td>
          <td><span class="tag tag-admin">Admin</span> <span class="tag tag-school">School Admin</span> <span class="tag tag-school">School Teacher</span></td>
        </tr>
        <tr>
          <td><strong>Mirroring</strong></td>
          <td>Karaoke-style sentence-by-sentence audio playback. Students listen and record their pronunciation. AI provides real-time feedback.</td>
          <td>Project</td>
          <td><span class="tag tag-admin">Admin</span> <span class="tag tag-school">School Admin</span> <span class="tag tag-school">School Teacher</span></td>
        </tr>
        <tr>
          <td><strong>Vocabulary</strong></td>
          <td>Foundational vocabulary building. Multiple project selections, personalized learning journey.</td>
          <td>Multiple Projects</td>
          <td><span class="tag tag-coming">Admin only / Coming Soon</span></td>
        </tr>
        <tr>
          <td><strong>Daily Boost</strong></td>
          <td>Daily reinforcement exercises. Appears as a separate section in the sidebar, not in the practice creation dialog.</td>
          <td>&mdash;</td>
          <td><span class="tag tag-admin">Admin</span></td>
        </tr>
      </table>

      <h4>Pinyin Preference</h4>
      <p>Each practice can be configured with one of three pinyin modes:</p>
      <ul>
        <li><strong>Always Show Pinyin</strong> &mdash; Pinyin annotations always visible</li>
        <li><strong>No Pinyin</strong> &mdash; Never show pinyin</li>
        <li><strong>Student Choice</strong> &mdash; Let the student toggle pinyin on/off</li>
      </ul>
    </div>

    <!-- 2D — Assignment -->
    <div class="card">
      <h3>2D. Assignment</h3>
      <p>
        <span class="tag tag-admin">Admin</span>
        <span class="tag tag-school">School Admin</span>
        <span class="tag tag-school">School Teacher</span>
      </p>
      <p style="margin-top:10px;">
        Assignments link a practice to specific students. Teachers can assign individually or
        to entire classrooms.
      </p>

      <h4>Assignment Workflow</h4>
      <ul>
        <li>View all assignments in a list (sorted by creation time)</li>
        <li>Click <strong>"Assign"</strong> to open the Assign Class dialog</li>
        <li>Select one or more <strong>classrooms</strong></li>
        <li>Expand each classroom to <strong>select/deselect individual students</strong></li>
        <li>Set <strong>per-class due dates</strong> (shortcuts: "Due in 3 days" / "Due in 7 days")</li>
        <li>View <strong>assignment history</strong> showing previously assigned classes/students</li>
        <li>Already-assigned classes display an "Assigned" chip</li>
      </ul>

      <h4>Who Can Assign</h4>
      <p>The "Assign" button is visible to: <span class="tag tag-admin">Admin</span> <span class="tag tag-school">School Admin</span> <span class="tag tag-school">School Teacher</span></p>

      <h4>Deletion</h4>
      <p>Assignments can be soft-deleted (hidden from students but preserved in the system for record-keeping).</p>
    </div>
  </section>

  <!-- ══════════════════════════════════════════════════════════════════
       FLOW 3 — STUDENT PRACTICE
       ══════════════════════════════════════════════════════════════════ -->
  <section id="flow3" class="flow-section flow3">
    <div class="flow-header">
      <div class="num">3</div>
      <h2>Student Practice</h2>
      <span class="badge">Admin &middot; Student &middot; School Student</span>
    </div>

    <p style="margin-bottom:20px; color:#475569;">
      Students receive assignments and complete them through an immersive audio-first player.
      The flow is: <strong>Assignment List &rarr; Content Player &rarr; Submit &amp; Review</strong>.
    </p>

    <!-- 3A — Assignment List -->
    <div class="card">
      <h3>3A. Assignment List ("My Practice")</h3>
      <p>
        <span class="tag tag-admin">Admin</span>
        <span class="tag tag-student">Student</span>
        <span class="tag tag-student">School Student</span>
      </p>
      <p style="margin-top:10px;">
        The student's landing page. Shows all assignments that have been assigned to them.
      </p>
      <ul>
        <li>Title shows <strong>"My Assignments"</strong> for school students, <strong>"Practice List"</strong> for regular students</li>
        <li>Each card shows: practice name, practice type, <strong>expiry date</strong> (if set)</li>
        <li><strong>Completion status</strong> is tracked per assignment for Q&amp;A and Vocabulary types</li>
        <li>System validates that the linked practice still exists before displaying</li>
        <li>Clicking a card navigates to the content player</li>
      </ul>
    </div>

    <!-- 3B — Content Player -->
    <div class="card">
      <h3>3B. Content Player</h3>
      <p style="margin-top:10px;">
        The immersive practice environment. Layout features a classroom background image with an
        animated character that responds to playback state.
      </p>

      <div class="grid-2" style="margin-top:16px;">
        <div class="card" style="margin-bottom:0; border: 2px solid #10b981;">
          <h4 style="margin-top:0;">Mirroring Mode</h4>
          <ul>
            <li><strong>Left panel:</strong> Article content window with sentence highlights</li>
            <li><strong>Header:</strong> Audio playback controls</li>
            <li><strong>Right panel:</strong> Karaoke-style sentence list</li>
            <li>Sentences highlight one-by-one in sync with audio</li>
            <li>Student <strong>records their pronunciation</strong> after each sentence</li>
            <li>Audio is securely uploaded to cloud storage</li>
            <li>AI provides <strong>real-time pronunciation feedback</strong></li>
            <li>Animated character reacts to playback (animated when playing, static when idle)</li>
          </ul>
        </div>

        <div class="card" style="margin-bottom:0; border: 2px solid #3b82f6;">
          <h4 style="margin-top:0;">Q&amp;A Mode</h4>
          <ul>
            <li><strong>Left panel:</strong> Article content with pinyin toggle</li>
            <li><strong>Right panel:</strong> AI conversation interface</li>
            <li>Questions presented one at a time</li>
            <li>Student <strong>records audio answers</strong></li>
            <li>AI provides <strong>instant feedback</strong> per answer</li>
            <li><strong>Start Practice</strong> button initiates the session</li>
            <li><strong>Completion message</strong> shown when all questions answered</li>
            <li>Full message history preserved in the session</li>
          </ul>
        </div>
      </div>

      <h4>Audio System</h4>
      <ul>
        <li><strong>Speech Recognition:</strong> Powered by Microsoft Cognitive Services</li>
        <li><strong>Upload &amp; Playback:</strong> Audio recordings are securely uploaded to and played back from cloud storage (AWS S3)</li>
        <li><strong>Format:</strong> WAV audio</li>
      </ul>
    </div>

    <!-- 3C — Submission & History -->
    <div class="card">
      <h3>3C. Submission &amp; History</h3>
      <ul>
        <li>Student completion is automatically tracked when they finish a practice</li>
        <li>Assignment history view allows reviewing past submissions</li>
        <li>Separate Q&amp;A history view shows detailed conversation replay</li>
        <li>Teachers can review student submissions and AI feedback results</li>
      </ul>
    </div>
  </section>

  <!-- ══════════════════════════════════════════════════════════════════
       FLOW 4 — SCHOOL MANAGEMENT
       ══════════════════════════════════════════════════════════════════ -->
  <section id="flow4" class="flow-section flow4">
    <div class="flow-header">
      <div class="num">4</div>
      <h2>School Management</h2>
      <span class="badge">Admin &middot; School Admin &middot; School Teacher</span>
    </div>

    <p style="margin-bottom:20px; color:#475569;">
      Schools are self-contained organizations with their own users, classrooms, and invite codes.
      The flow is: <strong>Dashboard &rarr; Invite Codes &rarr; Classrooms &rarr; Assign Work</strong>.
    </p>

    <!-- 4A — Dashboard -->
    <div class="card">
      <h3>4A. School Dashboard</h3>
      <p>
        <span class="tag tag-admin">Admin</span>
        <span class="tag tag-school">School Admin</span>
      </p>

      <div class="callout callout-warn">
        <strong>Note:</strong> Only Admin and School Admin can see the School Dashboard.
        School Teacher does <em>not</em> have access to this page.
      </div>

      <h4>Overview Stats (4 Cards)</h4>
      <table>
        <tr>
          <th>Metric</th>
          <th>Description</th>
        </tr>
        <tr><td>Total Users</td><td>All users in the school</td></tr>
        <tr><td>Available Seats</td><td>Remaining seats based on the school's purchased plan</td></tr>
        <tr><td>Active Students</td><td>Number of active school students</td></tr>
        <tr><td>Active Teachers</td><td>Number of school teachers</td></tr>
      </table>

      <h4>Invite Code Management</h4>
      <ul>
        <li>Create invite codes for two roles: <strong>School Student</strong> or <strong>School Teacher</strong></li>
        <li>Set expiry period: <strong>1 / 7 / 30 / 90 days</strong></li>
        <li>View and manage all existing codes</li>
        <li>Delete individual codes</li>
        <li>Students and teachers use these codes during registration to join the school</li>
      </ul>

      <h4>User Management Table</h4>
      <ul>
        <li>Lists all school users with their roles</li>
        <li><strong>Status toggle</strong> (activate/deactivate) &mdash; available for students only</li>
        <li><strong>Bulk select</strong> &mdash; Select multiple students to activate/deactivate at once</li>
        <li><strong>Remove from school</strong> &mdash; Remove a user from the school entirely</li>
      </ul>
    </div>

    <!-- 4B — Classroom -->
    <div class="card">
      <h3>4B. Classroom Management</h3>
      <p>
        <span class="tag tag-admin">Admin</span>
        <span class="tag tag-school">School Admin</span>
        <span class="tag tag-school">School Teacher</span>
      </p>

      <h4>Create Classroom</h4>
      <ul>
        <li>Enter classroom <strong>name</strong></li>
        <li>Assign one or more <strong>teachers</strong> via checkbox selection</li>
      </ul>

      <h4>Edit Classroom</h4>
      <ul>
        <li><strong>Rename</strong> the classroom</li>
        <li><strong>Change teacher assignments</strong> (add/remove teachers)</li>
      </ul>

      <h4>Manage Students</h4>
      <ul>
        <li><strong>Search</strong> students by name</li>
        <li><strong>Checkbox enrollment</strong> &mdash; check to add, uncheck to remove</li>
        <li>Inactive students are automatically <strong>hidden</strong> from the list</li>
      </ul>

      <h4>Classroom Overview</h4>
      <ul>
        <li><strong>Stats:</strong> Total Classrooms, Total Students Enrolled</li>
        <li><strong>Class cards</strong> display: teacher avatars, student count, first 3 student names</li>
      </ul>
    </div>
  </section>

  <!-- ══════════════════════════════════════════════════════════════════
       FLOW 5 — PLATFORM ADMINISTRATION
       ══════════════════════════════════════════════════════════════════ -->
  <section id="flow5" class="flow-section flow5">
    <div class="flow-header">
      <div class="num">5</div>
      <h2>Platform Administration</h2>
      <span class="badge">Admin Only</span>
    </div>

    <p style="margin-bottom:20px; color:#475569;">
      Platform-wide management for the DAHUA AI internal team. Covers user management, school operations, and billing.
    </p>

    <div class="grid-3">
      <!-- 5A — User Management -->
      <div class="card">
        <h3>5A. User Management</h3>
        <p><span class="tag tag-admin">Admin</span></p>
        <ul style="margin-top:10px;">
          <li><strong>List</strong> all platform users with search and filter (by name, role, status)</li>
          <li><strong>Create</strong> new user accounts</li>
          <li><strong>Edit</strong> users &mdash; role assignment, permissions, subscription</li>
          <li><strong>Delete</strong> single or bulk users</li>
        </ul>

        <h4>Granular Permissions</h4>
        <p style="font-size:13px;">Each user can have individual permissions toggled:</p>
        <ul style="font-size:13px;">
          <li>User management (create, edit, delete)</li>
          <li>Project management (create, edit, view, delete)</li>
          <li>Exam management (Level Test, Speech Practice)</li>
          <li>AI assistant permissions (Summary, Create, Revise)</li>
          <li>Paid User flag</li>
        </ul>
      </div>

      <!-- 5B — School Management -->
      <div class="card">
        <h3>5B. School Management</h3>
        <p><span class="tag tag-admin">Admin</span></p>
        <ul style="margin-top:10px;">
          <li><strong>School list table</strong> showing: name, email, total seats, occupied seats, trial/seat end date, timezone, status, trial start, created date</li>
          <li><strong>Create School</strong> &mdash; Form dialog for new school setup</li>
          <li><strong>CSV Bulk Upload</strong> &mdash; Upload multiple schools at once</li>
          <li><strong>Close School Trial</strong> &mdash; End a school's trial period</li>
        </ul>
      </div>

      <!-- 5C — Billing & Credits -->
      <div class="card">
        <h3>5C. Billing &amp; Credits</h3>
        <p><span class="tag tag-all">All authenticated users</span></p>

        <h4>Plan Tiers</h4>
        <table>
          <tr>
            <th>Plan</th>
            <th>Price</th>
            <th>Credits</th>
            <th>Highlights</th>
          </tr>
          <tr>
            <td><strong>Starter</strong></td>
            <td>Free</td>
            <td>30 per email</td>
            <td>Up to 6 projects, 3 AI functions, export, question bank</td>
          </tr>
          <tr>
            <td><strong>Top-up</strong></td>
            <td>$5.00</td>
            <td>Flexible</td>
            <td>Pay-as-you-go, all features</td>
          </tr>
          <tr>
            <td><strong>Basic</strong></td>
            <td>$15/mo or $120/yr</td>
            <td>150/month</td>
            <td>All features + early Beta access. Save up to 30% with annual.</td>
          </tr>
        </table>

        <h4>Subscription Types</h4>
        <p>Free &middot; Monthly &middot; Top-up &middot; Annual</p>

        <h4>UI Features</h4>
        <ul>
          <li><strong>Credit balance widget</strong> &mdash; Shows current credits and plan name</li>
          <li><strong>Plan expiration date</strong> display</li>
          <li><strong>Monthly / Annual toggle</strong> &mdash; Switch between billing periods</li>
          <li>Payment processed via <strong>Stripe</strong> hosted checkout</li>
        </ul>
      </div>
    </div>

    <!-- Deprecated features callout -->
    <div class="callout callout-info" style="margin-top: 8px;">
      <strong>Planned / Hidden Features:</strong> An <strong>Exam system</strong>
      (Level Test, Speech Practice) and a <strong>Linguistics management</strong> module exist in the platform
      but are not currently active in production.
    </div>
  </section>


</div>

<!-- ════════════════════════════════════════════════════════════════════
     FOOTER
     ════════════════════════════════════════════════════════════════════ -->
<footer>
  DAHUA AI &middot; Platform Overview &middot; Generated February 2026
</footer>

</body>
</html>