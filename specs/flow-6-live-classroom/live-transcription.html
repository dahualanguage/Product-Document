<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spec — Live Transcription</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      color: #1e293b; background: #f8fafc; line-height: 1.7; font-size: 14px;
    }

    /* ── Top bar ── */
    .topbar {
      background: #fff; border-bottom: 1px solid #e2e8f0;
      padding: 14px 40px; display: flex; align-items: center; gap: 12px;
      position: sticky; top: 0; z-index: 100;
    }
    .topbar a {
      color: #64748b; text-decoration: none; font-size: 13px; font-weight: 600;
      display: flex; align-items: center; gap: 6px; transition: color .15s;
    }
    .topbar a:hover { color: #1e293b; }
    .topbar .sep { color: #cbd5e1; }
    .topbar .current { color: #0ea5e9; font-weight: 700; }

    /* ── Layout ── */
    .container { max-width: 900px; margin: 0 auto; padding: 40px 40px 80px; }

    /* ── Header ── */
    .doc-header { margin-bottom: 40px; padding-bottom: 24px; border-bottom: 2px solid #e2e8f0; }
    .doc-header h1 { font-size: 28px; font-weight: 800; color: #0f172a; margin-bottom: 4px; }
    .doc-header .subtitle { color: #64748b; font-size: 14px; }
    .doc-header .meta { margin-top: 12px; display: flex; gap: 20px; font-size: 12px; color: #94a3b8; }
    .doc-header .meta span { background: #f1f5f9; padding: 3px 10px; border-radius: 4px; }

    /* ── Sections ── */
    h2 {
      font-size: 18px; font-weight: 800; color: #0f172a; margin: 40px 0 16px;
      padding-bottom: 8px; border-bottom: 1px solid #e2e8f0;
      display: flex; align-items: center; gap: 8px;
    }
    h2 .num {
      font-size: 11px; font-weight: 700; color: #fff; background: #0ea5e9;
      padding: 2px 8px; border-radius: 4px;
    }
    h3 { font-size: 15px; font-weight: 700; color: #334155; margin: 24px 0 10px; }
    p { margin-bottom: 10px; }
    ul, ol { margin: 0 0 12px 20px; }
    li { margin-bottom: 4px; }

    /* ── Cards ── */
    .card {
      background: #fff; border: 1px solid #e2e8f0; border-radius: 10px;
      padding: 20px 24px; margin-bottom: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,.04);
    }

    /* ── Tables ── */
    table { width: 100%; border-collapse: collapse; margin: 12px 0 20px; font-size: 13px; }
    th, td { padding: 10px 14px; text-align: left; border: 1px solid #e2e8f0; }
    th { background: #f8fafc; font-weight: 700; color: #334155; font-size: 12px; }
    td { color: #475569; }

    /* ── Callouts ── */
    .callout {
      border-radius: 8px; padding: 14px 18px; margin: 12px 0 16px;
      font-size: 13px; line-height: 1.6;
    }
    .callout-info { background: #eff6ff; border-left: 4px solid #3b82f6; color: #1e40af; }
    .callout-question {
      background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
      border: 2px solid #facc15; border-radius: 10px;
      padding: 18px 22px; margin: 20px 0 16px;
    }
    .callout-question .q-text {
      font-size: 17px; font-weight: 700; color: #854d0e; line-height: 1.5;
    }
    .callout-question .q-context {
      font-size: 12px; color: #a16207; margin-top: 6px; font-weight: 500;
    }

    /* ── Placeholder ── */
    .placeholder {
      text-align: center; padding: 60px 20px; color: #94a3b8;
      font-size: 15px; font-weight: 600;
    }

    footer {
      text-align: center; padding: 24px 0; color: #94a3b8;
      font-size: 12px; border-top: 1px solid #e2e8f0; margin-top: 40px;
    }
  </style>
</head>
<body>

<!-- ── TOPBAR ── -->
<div class="topbar">
  <a href="../../index.html">Home</a>
  <span class="sep">/</span>
  <a href="../../flowcharts/flow-6-live-classroom.html">Flow 6 — Live Classroom</a>
  <span class="sep">/</span>
  <span class="current">Live Transcription</span>
</div>

<!-- ── CONTENT ── -->
<div class="container">

  <div class="doc-header">
    <h1>Live Transcription</h1>
    <p class="subtitle">Real-time speech-to-text for Content Teacher broadcasts, delivered to ESL Students via live transcript.</p>
    <div class="meta">
      <span>Flow 6 — Live Classroom</span>
      <span>Status: Planning</span>
      <span>Target: TBD</span>
    </div>
  </div>

  <h2><span class="num">1</span> Feature Goal</h2>

  <div class="callout-question">
    <div class="q-text">How can ESL students follow along in a content class taught in English when the instructional language is above their proficiency level?</div>
    <div class="q-context">Content teachers (science, math, social studies) teach in English. ESL students in mixed-level classrooms need real-time language support to access the content being taught.</div>
  </div>

  <p>
    During a live content class, the Content Teacher speaks and the platform captures the audio in real time.
    AssemblyAI converts speech to text, and Ably pushes the transcript instantly to all connected students.
    Students see a live, scrolling transcript that lets them follow along with what the teacher is saying
    &mdash; even if they can't fully understand the spoken English at native speed.
  </p>

  <h2><span class="num">2</span> Technical Architecture</h2>

  <div class="card">
    <h3>Audio Pipeline</h3>
    <table>
      <tr><th>Component</th><th>Technology</th><th>Purpose</th></tr>
      <tr><td>Audio Capture</td><td>Browser MediaRecorder API</td><td>Capture teacher's microphone audio</td></tr>
      <tr><td>Speech-to-Text</td><td>AssemblyAI (WebSocket streaming)</td><td>Real-time transcription with word-level timestamps</td></tr>
      <tr><td>Real-time Delivery</td><td>Ably (pub/sub)</td><td>Push transcripts to all subscribed students instantly</td></tr>
      <tr><td>Frontend Render</td><td>ClickableTranscript component</td><td>Display live transcript with clickable words</td></tr>
    </table>
  </div>

  <h2><span class="num">3</span> Role Permissions</h2>

  <table>
    <tr><th>Role</th><th>Can Broadcast</th><th>Can Receive Transcript</th><th>Can Monitor Students</th></tr>
    <tr><td>CONTENT_TEACHER / ESL_SUBJECT_TEACHER</td><td>Yes</td><td>&mdash;</td><td>&mdash;</td></tr>
    <tr><td>ESL_TEACHER</td><td>&mdash;</td><td>View only</td><td>Yes</td></tr>
    <tr><td>ESL_STUDENT</td><td>&mdash;</td><td>Yes</td><td>&mdash;</td></tr>
  </table>

  <h2><span class="num">4</span> Detailed Specification</h2>

  <p class="placeholder">Detailed specification coming soon. This document will be expanded with session lifecycle, error handling, reconnection logic, and UI wireframes.</p>

  <footer>DAHUA AI &middot; Product Spec &middot; Flow 6 &mdash; Live Classroom &middot; February 2026</footer>
</div>

</body>
</html>